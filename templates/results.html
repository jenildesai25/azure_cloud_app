<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
{#  <script src="/lib/d3.v4.3.0.js"></script>#}
{#  <script src="http://dimplejs.org/dist/dimple.v2.3.0.min.js"></script>#}
    <script src="http://d3js.org/d3.v4.min.js"></script>
    <script src="http://dimplejs.org/dist/dimple.v2.3.0.min.js"></script>
  <title>Azure App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
  <header id="flex-header">

    <h1>Jenil Desai</h1>
    <h2>Student ID - 1001520245</h2>
  </header>
  <main>
    <br>
      <div id="chartContainer">
            <script type="text/javascript">

                var svg = dimple.newSvg("#chartContainer", 700, 400);
                var data = {{earthquakes | tojson | safe}}
                {#var data = [2,3];#}
                {#console.log(data);#}
                {#var svg2 = dimple.newSvg("#pie", "100%", 400);#}
                var myChart = new dimple.chart(svg, data);

                myChart.setBounds(10, 10, 660, 360)
                myChart.addMeasureAxis("p", "state");
                myChart.addSeries("range of population", dimple.plot.pie);
                myChart.addLegend(550, 20, 90, 300, "left");
                myChart.draw();

            </script>
      </div>


    <p>
        RESULT
        <br>
        Source: {{source}}
        <br>
        Queries #: {{count}}
        <br>
        Time taken: {{time_taken}} seconds
    </p>
    <br>
    <br>

        <table border="3">
            <tr>
              <td>
                Result
              </td>
{#              <td>#}
{#                LATITUDE#}
{#              </td>#}
{#              <td>#}
{#                LONGITUDE#}
{#              </td>#}
{#              <td>#}
{#                PLACE#}
{#              </td>#}
{#              <td>#}
{#                MAG#}
{#              </td>#}
            </tr>
            {% for quake in earthquakes %}
              <tr>
                <td>
                  {{ quake }}
                </td>
{#                <td>#}
{#                  {{ quake.latitude }}#}
{#                </td>#}
{#                <td>#}
{#                  {{ quake.longitude }}#}
{#                </td>#}
{#                <td>#}
{#                  {{ quake.place }}#}
{#                </td>#}
{#                <td>#}
{#                  {{ quake.mag }}#}
{#                </td>#}
              </tr>
            {% endfor %}
          </table>
          <br>


  </main>
</body>
</html>
